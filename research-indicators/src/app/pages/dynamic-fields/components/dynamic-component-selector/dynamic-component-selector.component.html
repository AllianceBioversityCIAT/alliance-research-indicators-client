<div>
  @for (field of this.fields; track $index) {
    <div>
      @switch (field.type) {
        @case ('section') {
          <div [attr.i]="$index" [attr.j]="this.index" class="section">
            <div app-dynamic-component-selector [parent]="field" [index]="this.index + 1" [fields]="field.fields"></div>
          </div>
        }
        @case ('block') {
          <div [attr.i]="$index" [attr.j]="this.index" class="block">
            <div app-dynamic-component-selector [parent]="field" [index]="this.index + 1" [fields]="field.fields"></div>
          </div>
        }
        @case ('title') {
          <div [attr.i]="$index" [attr.j]="this.index" class="title">
            <app-dynamic-title></app-dynamic-title>
          </div>
        }
        @case ('input') {
          <div [attr.i]="$index" [attr.j]="this.index" class="input">
            <div app-dynamic-input [attr]="field.attr"></div>
          </div>
        }
        @default {
          Default case.
        }
      }
    </div>
  }
</div>
