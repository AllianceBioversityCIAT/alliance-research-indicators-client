<div class="flex flex-col gap-3 px-3 pt-3 md:pt-8">
  <!-- Indicators Filter Tabs -->
  <app-indicators-tab-filter></app-indicators-tab-filter>

  <!-- Results Section -->
  <div class="flex flex-col bg-white">
    <!-- Custom Tab Menu with Pin Icons -->
    <div class="bg-white border-b border-[#E8EBED]">
      <div class="flex items-center gap-0">
        @for (item of orderedFilterItems(); track item.id) {
          <div
            class="flex items-center gap-2 px-5 py-3 cursor-pointer border-b-1 border-transparent transition-all duration-200 relative hover:bg-gray-50"
            [class]="resultsCenterService.myResultsFilterItem()?.id === item.id ? 'border-b-[#035BA9]' : ''"
            (click)="resultsCenterService.onActiveItemChange(item)">
            <button
              type="button"
              class="bg-[#E8EBED] cursor-pointer p-1 rounded-full flex items-center justify-center min-w-6 min-h-6"
              (click)="onPinIconClick(item.id!, $event)"
              [disabled]="loadingPin()"
              title="Pin tab">
              @if (isPinned(item.id!)) {
                <img src="/icons/pin-outline.svg" alt="pin logo" class="w-3 h-3" />
              } @else {
                <img src="/icons/pin.svg" alt="pin logo" class="w-3 h-3" />
              }
            </button>
            <span
              class="text-[14px] xl:text-[16px] pl-2 transition-colors font-semibold duration-200 py-1"
              [class]="resultsCenterService.myResultsFilterItem()?.id === item.id ? 'text-[#035BA9]' : ' text-gray-500'">
              {{ item.label }}
            </span>
          </div>
        }
      </div>
    </div>
    <!-- Results Table -->
    <app-results-center-table></app-results-center-table>
  </div>
</div>

<!-- Sidebars -->
<app-section-sidebar
  [title]="'Table Filters'"
  [description]="'Filter your table data by applying custom criteria.'"
  [showSignal]="this.resultsCenterService.showFiltersSidebar"
  confirmText="Apply filters"
  (confirm)="this.resultsCenterService.applyFilters()">
  <app-table-filters-sidebar></app-table-filters-sidebar>
</app-section-sidebar>

<app-section-sidebar
  [title]="'Table Configuration'"
  [description]="'Customize your table by enabling, disabling, or reordering columns.'"
  [showSignal]="this.resultsCenterService.showConfigurationsSidebar"
  confirmText="Save table settings"
  (confirm)="sidebarConfigurations.applyConfigurations()">
  <app-table-configuration #sidebarConfigurations></app-table-configuration>
</app-section-sidebar>
