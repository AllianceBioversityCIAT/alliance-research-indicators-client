<div class="flex flex-col mb-15 mt-10 mr-[40px] ml-[30px]">
  <h3 class="font-['Inter'] text-[15px] font-bold leading-[18px] text-[#173f6f] uppercase mb-0">{{ this.cache.currentMetadata().result_title }}</h3>

  <br />

  <div class="flex flex-col bg-[#fcfcfc] rounded-[10px] p-[30px] mb-6">
    <div class="font-['Space_Grotesk'] text-[14px] font-medium text-[#8d9299] uppercase mb-[30px] mt-0">PARTNERS</div>
    <div class="flex items-center bg-[#e8ebed] border-l-[5px] border-l-[#074b86] gap-5 px-5 mb-[30px]">
      <span class="text-[#074b86] material-symbols-rounded">info</span>
      <h3 class="text-[#777c83] font-['Barlow'] text-[14px] font-normal leading-[17px] text-left my-[15px]">
        If you do not find the partner in the dropdown menu, you can
        <span
          (keydown.enter)="setSectionAndOpenModal('Partners')"
          (click)="setSectionAndOpenModal('Partners')"
          class="text-[#2792ce] cursor-pointer underline"
          >request</span
        >
        to have it added to the list.
      </h3>
    </div>

    <app-multiselect
      label="Partners to be acknowledge"
      description="Partner organizations you collaborated with or are currently collaborating with to generate this result."
      [isRequired]="true"
      [signal]="body"
      optionLabel="html_full_name"
      optionValue="institution_id"
      signalOptionValue="institutions"
      [disabled]="!submission.isEditableStatus()"
      [removeCondition]="!submission.isEditableStatus() ? canRemove : canRemoveInstitution"
      removeTooltip="{{
        !submission.isEditableStatus() ? '' : 'This institution was added in the CapSharing details section and can only be removed from there.'
      }}"
      [optionsDisabled]="this.optionsDisabled"
      serviceName="institutions">
      @if (!this.loading()) {
        <ng-template #rows let-institution>
          <app-partner-selected-item [institution]="institution" />
        </ng-template>
      }
    </app-multiselect>
  </div>
  <div
    [ngStyle]="{
      paddingLeft: cache.showSectionHeaderActions() ? (cache.isSidebarCollapsed() ? '89px' : '274px') : '89px',
      width: 'calc(100% - 323px)'
    }"
    class="flex border-t-1 border-[#e8ebed] fixed bg-[#ffffff] bottom-0 left-0 px-6 py-4 justify-between">
    <div class="flex gap-5">
      <button
        type="button"
        (click)="saveData('back')"
        class="flex cursor-pointer items-center gap-2 border-2 font-medium border-[#035BA9] text-[#035BA9] px-4 py-2 rounded-[13px] text-[15px]">
        <i class="pi pi-arrow-left !text-[12px]"></i>
        Back
      </button>
      <button
        type="button"
        (click)="saveData('next')"
        class="flex cursor-pointer items-center gap-2 border-2 font-medium border-[#035BA9] text-[#035BA9] px-4 py-2 rounded-[13px] text-[15px]">
        Next
        <i class="pi pi-arrow-right !text-[12px]"></i>
      </button>
    </div>
    @if (submission.isEditableStatus()) {
      <button
        type="button"
        (click)="saveData()"
        class="flex cursor-pointer items-center gap-2 bg-[#509C55] text-[#FFFFFF] px-5 py-2 rounded-[13px] text-[15px]">
        <i class="pi pi-save !text-[12px] -scale-x-100"></i>
        Save
      </button>
    }
  </div>
</div>
