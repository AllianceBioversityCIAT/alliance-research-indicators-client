<div class="project-setup-container max-w-7xl mx-auto p-6">
  <!-- Header Principal -->
  <div class="header-section border-b border-gray-200 pb-6 mb-8">
    <div class="flex justify-between items-center">
      <div>
        <h1 class="text-3xl font-bold text-gray-800 mb-2">Project Setup</h1>
        <p class="text-gray-600">Configure your project structures and indicators</p>
      </div>
      <!-- Acciones y selector de ruta -->
      <div class="flex gap-3 items-center">
        @if (activeRoute === 'structure') {
          <p-button icon="pi pi-plus" label="Create Structure" (onClick)="setUpProjectService.showCreateStructure.set(true)"> </p-button>
        } @else {
          <p-button icon="pi pi-plus" label="Create Indicator" (onClick)="setUpProjectService.manageIndicatorModal.set({ show: true })"></p-button>
        }
        <p-selectbutton
          [options]="routeOptions"
          [(ngModel)]="activeRoute"
          optionLabel="label"
          optionValue="value"
          (onChange)="onRouteChange($event.value)" />
      </div>
    </div>
  </div>

  <router-outlet />
  <!-- Floating Save Button -->
  <div class="fixed bottom-6 right-6 z-50">
    <p-button
      icon="pi pi-save"
      label="Save"
      severity="primary"
      [loading]="setUpProjectService.loadingStructures()"
      [disabled]="setUpProjectService.loadingStructures()"
      (onClick)="saveStructures()">
    </p-button>
  </div>
</div>

<app-assign-indicators-modal />
