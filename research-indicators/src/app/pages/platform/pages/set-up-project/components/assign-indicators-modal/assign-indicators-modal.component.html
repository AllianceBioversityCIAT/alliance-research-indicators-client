<!-- <p-dialog
  [(visible)]="this.setUpProjectService.showAssignIndicatorModal"
  header="Add Indicators"
  [modal]="true"
  [closable]="true"
  [style]="{ width: '600px' }"
  [draggable]="false">
  @if (selectedElementForIndicators(); as selected) {
    <div class="assign-indicators">
      <div class="mb-4">
        <p class="text-sm text-gray-700 mb-3">Create a new indicator for this {{ selected.type === 'structure' ? 'structure' : 'item' }}:</p>

        <p-button
          icon="pi pi-plus"
          label="Create New Indicator for {{ getElementName(selected.type, selected.id) }}"
          severity="secondary"
          size="small"
          class="w-full mb-3"
          (onClick)="createIndicatorForElement(selected.type)">
        </p-button>
      </div>

      <div class="available-indicators">
        <h4 class="font-medium text-gray-800 mb-3">Or select from default indicators:</h4>

        @if (selected.type === 'structure') {
          <div class="space-y-3 max-h-60 overflow-y-auto">
            @for (indicator of defaultLevel1Indicators(); track indicator.id) {
              <div
                class="border border-gray-200 rounded-lg p-3 hover:bg-blue-50 hover:border-blue-300 cursor-pointer transition-colors"
                role="button"
                tabindex="0"
                (click)="selectDefaultIndicator(indicator, selected.type, selected.id)"
                (keydown.enter)="selectDefaultIndicator(indicator, selected.type, selected.id)"
                (keyup.space)="selectDefaultIndicator(indicator, selected.type, selected.id)">
                <div class="flex justify-between items-start">
                  <div class="flex-1">
                    <h5 class="font-medium text-gray-800 text-sm mb-1">{{ indicator.name }}</h5>
                    <p class="text-xs text-gray-600 mb-2">{{ indicator.description }}</p>
                    <div class="flex flex-wrap gap-1">
                      <span class="text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded">{{ indicator.numberType }}</span>
                      <span class="text-xs bg-green-100 text-green-800 px-2 py-1 rounded">{{ indicator.targetUnit }}</span>
                      <span class="text-xs bg-purple-100 text-purple-800 px-2 py-1 rounded">{{ indicator.years.join(', ') }}</span>
                    </div>
                  </div>
                  <i class="pi pi-plus text-blue-500 text-sm ml-2"></i>
                </div>
              </div>
            }
          </div>
        } @else {
          <div class="space-y-3 max-h-60 overflow-y-auto">
            @for (indicator of defaultLevel2Indicators(); track indicator.id) {
              <div
                class="border border-gray-200 rounded-lg p-3 hover:bg-green-50 hover:border-green-300 cursor-pointer transition-colors"
                role="button"
                tabindex="0"
                (click)="selectDefaultIndicator(indicator, selected.type, selected.id)"
                (keydown.enter)="selectDefaultIndicator(indicator, selected.type, selected.id)"
                (keyup.space)="selectDefaultIndicator(indicator, selected.type, selected.id)">
                <div class="flex justify-between items-start">
                  <div class="flex-1">
                    <h5 class="font-medium text-gray-800 text-sm mb-1">{{ indicator.name }}</h5>
                    <p class="text-xs text-gray-600 mb-2">{{ indicator.description }}</p>
                    <div class="flex flex-wrap gap-1">
                      <span class="text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded">{{ indicator.numberType }}</span>
                      <span class="text-xs bg-green-100 text-green-800 px-2 py-1 rounded">{{ indicator.targetUnit }}</span>
                      <span class="text-xs bg-purple-100 text-purple-800 px-2 py-1 rounded">{{ indicator.years.join(', ') }}</span>
                    </div>
                  </div>
                  <i class="pi pi-plus text-green-500 text-sm ml-2"></i>
                </div>
              </div>
            }
          </div>
        }

        @if (
          (selected.type === 'structure' && defaultLevel1Indicators().length === 0) ||
          (selected.type === 'item' && defaultLevel2Indicators().length === 0)
        ) {
          <div class="text-center py-6 text-gray-500">
            <i class="pi pi-info-circle text-lg mb-2 block"></i>
            <p class="text-sm">No default indicators available for this level.</p>
          </div>
        }
      </div>
    </div>
  }

  <div class="flex justify-end pt-4 border-t border-gray-200">
    <p-button label="Close" severity="secondary" size="small" (onClick)="this.setUpProjectService.showAssignIndicatorModal.set(false)"></p-button>
  </div>
</p-dialog> -->
